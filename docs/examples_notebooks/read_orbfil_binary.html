

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Reading the Binary Orbit File &mdash; Kamodo-GEODYN Documentation tbd documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"TeX": {"equationNumbers": {"autoNumber": "AMS", "useLabelIds": true}}, "tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="To do list:" href="../todo.html" />
    <link rel="prev" title="Reading and Processing .RVG binary files" href="preprocessing_rvgs_to_ascii.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Kamodo-GEODYN Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../a_about_proj/about.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../a_about_proj/about.html#kamodo">Kamodo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../a_about_proj/about.html#geodyn">GEODYN</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started on AWS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../b_getting_started/accessing_AWS.html">Accessing AWS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../b_getting_started/accessing_AWS.html#access-the-aws-server">Access the AWS Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../b_getting_started/accessing_AWS.html#activating-a-jupyter-environment-set-port-forwarding">Activating a Jupyter environment (set port forwarding):</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../b_getting_started/navigating_AWS.html">Navigating AWS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../b_getting_started/navigating_AWS.html#directory-structure-of-the-geodyn-project">Directory Structure of the GEODYN Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../b_getting_started/navigating_AWS.html#directories-and-files-of-importance">Directories and Files of Importance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../b_getting_started/navigating_AWS.html#geodyn-output-readers">GEODYN output readers:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../b_getting_started/navigating_AWS.html#msis-evaluation-notebooks">MSIS Evaluation Notebooks:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../b_getting_started/navigating_AWS.html#geodyn-source-code">GEODYN Source Code:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../b_getting_started/navigating_AWS.html#geodyn-starlette-runs">GEODYN Starlette Runs:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../b_getting_started/navigating_AWS.html#starlette-run-directory">Starlette Run Directory:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../b_getting_started/navigating_AWS.html#starlette-run-output">Starlette Run Output:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../b_getting_started/installs_and_techtips.html">Installations and Technical Tips</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../b_getting_started/installs_and_techtips.html#installing-miniconda3">Installing miniconda3 :</a></li>
<li class="toctree-l2"><a class="reference internal" href="../b_getting_started/installs_and_techtips.html#installing-kamodo">Installing Kamodo:</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Understanding GEODYN</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../c_understanding_geodyn/understanding_geodyn.html">GEODYN Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/understanding_geodyn.html#geodyn-internal-programs">GEODYN Internal Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/understanding_geodyn.html#important-files-inputs-and-outputs">Important Files: Inputs and Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/understanding_geodyn.html#drag-assessment-output-products">Drag Assessment: Output Products</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html">Understanding the Setup file/Card deck</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html#setup-deck-structure"><strong>Setup Deck Structure:</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html#example-icesat2-with-pce-data-trajectory-analysis">Example: ICESat2 with PCE Data– Trajectory Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html#initial-setup-deck"><strong>Initial setup deck:</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html#modified-cards"><strong>Modified Cards:</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html#orbfil">ORBFIL:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html#obsvu">OBSVU:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html#prntvu">PRNTVU:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html#atmden">ATMDEN:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../c_understanding_geodyn/the_setup_deck.html#cardname">CARDNAME:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Modifying GEODYN</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../d_modifying_geodyn/modify_subroutines_rst.html">Modifying GEODYN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../d_modifying_geodyn/modify_subroutines_rst.html#list-of-major-modifications">List of Major Modifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../d_modifying_geodyn/modify_subroutines_rst.html#modification-details">Modification Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../d_modifying_geodyn/modify_subroutines_rst.html#print-model-density">1) Print Model Density</a></li>
<li class="toctree-l3"><a class="reference internal" href="../d_modifying_geodyn/modify_subroutines_rst.html#iieout-density-model-identifier">2) iieout density model identifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../d_modifying_geodyn/modify_subroutines_rst.html#and-4-include-msise00-and-msise2-into-the-geodyn-source-code">3) and 4) Include MSISe00 and MSISe2 into the GEODYN Source code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../d_modifying_geodyn/modify_subroutines_rst.html#modying-the-msis-drhodz-calculation">5) Modying the MSIS DRHODZ Calculation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../d_modifying_geodyn/modify_subroutines_rst.html#remove-the-atgrav-printing-to-iis-iieout">6) Remove the ATGRAV printing to IIS/IIEOUT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../d_modifying_geodyn/pygeodyn_drho_dz_eval.html">Investigating the modification of the DRHODZ variable in the MSIS.f90 subroutine.</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../d_modifying_geodyn/pygeodyn_drho_dz_eval.html#Want-to-show:">Want to show:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../d_modifying_geodyn/pygeodyn_drho_dz_eval.html#Import-base-parameters">Import base parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../d_modifying_geodyn/pygeodyn_drho_dz_eval.html#Load-different-versions">Load different versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../d_modifying_geodyn/pygeodyn_drho_dz_eval.html#Read-Data-into-Objects">Read Data into Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../d_modifying_geodyn/pygeodyn_drho_dz_eval.html#Plot-Results">Plot Results</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Assessing Density Model Performance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../e_density_model_evaluation/density_assessments.html">Starlette Satellite (SLR Data)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../e_density_model_evaluation/density_assessments.html#msis-version-comparisons">MSIS Version Comparisons</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html">MSIS Version Evaluation- Multiple Arcs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Details:">Details:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Background:">Background:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Relative-model-performance:">Relative model performance:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Load-the-simulations-over-all-arcs">Load the simulations over all arcs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Set-the-plot-configurations">Set the plot configurations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Details-and-Background:">Details and Background:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Cd-Analysis">Cd Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Adjusted-Cd-Plot-(timeseries)">Adjusted Cd Plot (timeseries)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Scale-Density-with-the-Cd-scale-factor:">Scale Density with the Cd scale factor:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Density-output-Analysis">Density output Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Density-timeseries-plot">Density timeseries plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Orbit-averaged-Density-Plot">Orbit averaged Density Plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Composite-Plots,-density,-cd,-activity-indicies">Composite Plots, density, cd, activity indicies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#id1">Details:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#id2">Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Observed-Residuals-timeseries-plot">Observed Residuals timeseries plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Residual-Measurement-Summary-plots-(RMS-of-fit)">Residual Measurement Summary plots (RMS of fit)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../e_density_model_evaluation/pygeodyn_compare_msisversions_allarcs.html#Residuals-–-station-summary">Residuals – station summary</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../e_density_model_evaluation/density_assessments.html#icesat2-satellite-pce-data">ICESat2 Satellite (PCE Data)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html">A Trajectory Analysis using the ICESat2 Satellite</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Step-0:-Pre-processing-the-PCE-data-into-a-G2B-file">Step 0: Pre-processing the PCE data into a G2B file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#PygeodynPreprocessing">PygeodynPreprocessing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Step-1:-Run-GEODYN-using-Pygeodyn-with-the-ICESat2-configuration">Step 1: Run GEODYN using Pygeodyn with the ICESat2 configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Step-1.1:-Run-with-MSIS2">Step 1.1: Run with MSIS2</a></li>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Step-1.2:-Run-with-DTM87-for-comparison">Step 1.2: Run with DTM87 for comparison</a></li>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Step-1.2:-Run-with-Jaachia-71-Model-for-comparison">Step 1.2: Run with Jaachia 71 Model for comparison</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Read-GEODYN-Output-using-PygeodynRead-functionality">Read GEODYN Output using PygeodynRead functionality</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Get-MSIS2-Data">Get MSIS2 Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Get-DTM87-Data">Get DTM87 Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Get-Jaachia-71-Data">Get Jaachia 71 Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Analyze-output">Analyze output</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#1.-Residuals-of-the-POD-across-many-arcs">1. Residuals of the POD across many arcs</a></li>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Looking-at-the-arc-overlap-time:">Looking at the arc overlap time:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#PCE-Data-and-the-Orbit-File:">PCE Data and the Orbit File:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_DensityModels.html#Residual-Component-Trajectory:">Residual Component Trajectory:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html">A Trajectory Analysis using the ICESat2 Satellite</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html#Read-GEODYN-Output-using-PygeodynRead-functionality">Read GEODYN Output using PygeodynRead functionality</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html#Get-MSIS2-Data">Get MSIS2 Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html#Get-MSIS00-Data">Get MSIS00 Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html#Get-MSIS86-Data">Get MSIS86 Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html#Analyze-output">Analyze output</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html#1.-Residuals-of-the-POD-across-many-arcs">1. Residuals of the POD across many arcs</a></li>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html#Looking-at-the-arc-overlap-time:">Looking at the arc overlap time:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html#PCE-Data-and-the-Orbit-File:">PCE Data and the Orbit File:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_MSISModels.html#Residual-Component-Trajectory:">Residual Component Trajectory:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html">Trajectory Analysis: 15 Days</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Run-GEODYN-over-desired-arcs-for-all-dens:">Run GEODYN over desired arcs for all dens:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Get-Data">Get Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Write-DataObject-to-a-pickle">Write DataObject to a pickle</a></li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Load-Pickles">Load Pickles</a></li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Read-Memory-usage:">Read Memory usage:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Plots">Plots</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Plot:-Residual-Summaries">Plot: Residual Summaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Plot:-XYZ-Component-Residuals">Plot: XYZ Component Residuals</a></li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Plot:-Adjusted-Cd">Plot: Adjusted Cd</a></li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Plot:-XYZ+NTW+RSW">Plot: XYZ+NTW+RSW</a></li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Plot:-NTW-Residuals-w/-CD-Scaling-factor">Plot: NTW Residuals w/ CD Scaling factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#In-track-arc-overlap">In-track arc overlap</a></li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#Plot:-Model-Density-+-Scaled-with-Cd-factor">Plot: Model Density + Scaled with Cd factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="ICESat2_TrajectoryAnalysis_ccmc_pres.html#ADDITIONAL-PLOTS:">ADDITIONAL PLOTS:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Using Pygeodyn</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../f_pygeodyn/pygeodyn_info.html">Introduction to <code class="docutils literal notranslate"><span class="pre">PYGEODYN</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../f_pygeodyn/pygeodyn_info.html#pygeody-capabilities">PYGEODY Capabilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_demo.html">Using Pygeodyn: ICESat2 Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started_demo.html#Some-notes-for-Preparing/Making-a-run:">Some notes for Preparing/Making a run:</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started_demo.html#Run-GEODYN">Run GEODYN</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started_demo.html#Reading-GEODYN-output">Reading GEODYN output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started_demo.html#Look-at-output-object">Look at output object</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Descriptive Notebooks</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../c_understanding_geodyn/Demo__Run_Geodyn.html">Demo: Running GEODYN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/Demo__Run_Geodyn.html#Locations-of-requisite-files-and-scripts">Locations of requisite files and scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__Run_Geodyn.html#GEODYN-IIS-and-IIE-executables:">GEODYN IIS and IIE executables:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__Run_Geodyn.html#Setup-Files-(Unit-5)-to-read-into-GEODYN:">Setup Files (Unit 5) to read into GEODYN:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__Run_Geodyn.html#Script-that-runs-GEODYN:">Script that runs GEODYN:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__Run_Geodyn.html#GEODYN-Output:">GEODYN Output:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/Demo__Run_Geodyn.html#Running-GEODYN:">Running GEODYN:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__Run_Geodyn.html#Inside-the-GEODYN-script:">Inside the GEODYN script:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html">Demo: The Setup File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#Location">Location</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#Card-Options">Card Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#DRAG">DRAG</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#CONDRG">CONDRG</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#OBSVU">OBSVU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#RESIDU">RESIDU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#ORBFIL">ORBFIL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#ORBTVU">ORBTVU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#ATMDEN">ATMDEN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_setup_file.html#ACCEL9">ACCEL9</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_output_explained.html">Demo: Reading Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_output_explained.html#Adjusted-Parameters">Adjusted Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_output_explained.html#Trajectory-Data">Trajectory Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_output_explained.html#Density-Data">Density Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_understanding_geodyn/Demo__geodyn_output_explained.html#Residual-Data">Residual Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing_rvgs_to_ascii.html">Reading and Processing .RVG binary files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preprocessing_rvgs_to_ascii.html#The-goal-here:">The goal here:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="preprocessing_rvgs_to_ascii.html#Methodology-for-pre-processing-the-binary-files:">Methodology for pre-processing the binary files:</a></li>
<li class="toctree-l3"><a class="reference internal" href="preprocessing_rvgs_to_ascii.html#Info-on-the-binary-files:">Info on the binary files:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="preprocessing_rvgs_to_ascii.html#1)-Dump-the-data-into-usable-format-with-scipy.io.FortranFile">1) Dump the data into usable format with <code class="docutils literal notranslate"><span class="pre">scipy.io.FortranFile</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="preprocessing_rvgs_to_ascii.html#1.a-Look-at-the-data-for-a-few-files-to-see-the-discontinuities.">1.a Look at the data for a few files to see the discontinuities.</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing_rvgs_to_ascii.html#Construct-G2B-files">Construct G2B files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reading the Binary Orbit File</a></li>
</ul>
<p class="caption"><span class="caption-text">To do</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">To do list:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html#notes">Notes:</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Kamodo-GEODYN Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Reading the Binary Orbit File</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/examples_notebooks/read_orbfil_binary.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Reading-the-Binary-Orbit-File">
<h1>Reading the Binary Orbit File<a class="headerlink" href="#Reading-the-Binary-Orbit-File" title="Permalink to this headline">¶</a></h1>
<p>The trajectory file (called G2T in the GII docs) is an unformatted fortran binary file that is fully described in Vol 5 Section 5.1 of the GII documentation.</p>
<div class="line-block">
<div class="line">The file consists of 4 types of buffers (records):</div>
<div class="line">- <code class="docutils literal notranslate"><span class="pre">header</span></code>: provides information concerning the contents of the remaining buffer - <code class="docutils literal notranslate"><span class="pre">alphanumeric</span></code>: contains info about the file contents and the iisset control deck - <code class="docutils literal notranslate"><span class="pre">data</span></code>: contains the orbit/ trajectory information for the satellites present in the GEODYN run - <code class="docutils literal notranslate"><span class="pre">sentinel</span></code>: the final record that designates the end of file and contains some info on the GOEDYN version</div>
</div>
<p>We read the file using the the <code class="docutils literal notranslate"><span class="pre">scipy.io.FortranFile</span></code> package. This allows us to read in the proper amount of words per record, as long as we provide it with the correct data type.</p>
<p>We determine which <code class="docutils literal notranslate"><span class="pre">words</span></code> (index in each record) and contain which values by referring to the documentation.</p>
<p><strong>Note 1</strong>: Ephemeris Time - The time system output of the Modified Julian Day Seconds (<code class="docutils literal notranslate"><span class="pre">MJDS</span></code>) is listed as <code class="docutils literal notranslate"><span class="pre">ET</span></code> instead of UTC. ET is Ephemeris Time and has been numerically equivalent to Terrestral Time (<code class="docutils literal notranslate"><span class="pre">TT</span></code>) or Terrestral Dynamic Time (<code class="docutils literal notranslate"><span class="pre">TDT</span></code>) since mid 1970’s. - <code class="docutils literal notranslate"><span class="pre">TT</span></code> is distinct from the time scale often used as a basis for civil purposes, Coordinated Universal Time (<code class="docutils literal notranslate"><span class="pre">UTC</span></code>). <code class="docutils literal notranslate"><span class="pre">TT</span></code> is indirectly the basis of <code class="docutils literal notranslate"><span class="pre">UTC</span></code>, via International Atomic Time (<code class="docutils literal notranslate"><span class="pre">TAI</span></code>). Because of the
historical difference between <code class="docutils literal notranslate"><span class="pre">TAI</span></code> and <code class="docutils literal notranslate"><span class="pre">ET</span></code> when <code class="docutils literal notranslate"><span class="pre">TT</span></code> was introduced, <code class="docutils literal notranslate"><span class="pre">TT</span></code> is approximately 32.184 s ahead of <code class="docutils literal notranslate"><span class="pre">TAI</span></code>. - $ ET - A1 = 32.1496183$ - $TDT = TAI + 32.184 $ - $TAI = UTC + <span class="math">\delta `AT $ - :math:</span>delta AT` is the total algebraic sum of leap seconds</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>As of 1 January 2017,
        TAI is ahead of UTC   by 37 seconds.
        TAI is ahead of GPS   by 19 seconds.
        GPS is ahead of UTC   by 18 seconds.
</pre></div>
</div>
<ul class="simple">
<li><p>Convert ET to UTC:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[UTC  =  TT - dAT - 32.184 s\]</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># dAT =  37</span>

<span class="c1"># UTC  =  TT - dAT - 32.184</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">orb_fil</span> <span class="o">=</span> <span class="s1">&#39;/data/data_geodyn/results/icesat2/msis2/msis2_acceloff_TrajAnalysis/ORBITS/icesat2_2018314_54hr.msis2_orb1&#39;</span>

</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">MJDS_to_YYMMDDHHMMSS</span><span class="p">(</span><span class="n">input_ModJulianDay_secs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function takes modified julian day seconds (MJDS) as input</span>
<span class="sd">    and returns a date_string in the format YYMMDDHHMMSS.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="c1">#########################################</span>
    <span class="c1"># Define some constants</span>
    <span class="n">SECDAY</span>              <span class="o">=</span> <span class="mi">86400</span>
    <span class="n">geodyn_ref_time_mjd</span> <span class="o">=</span> <span class="mi">30000</span>
    <span class="n">jd_0</span>                <span class="o">=</span> <span class="mf">2400000.5</span>
    <span class="n">d36525</span>              <span class="o">=</span> <span class="mf">365.25</span>
    <span class="n">d122</span>                <span class="o">=</span> <span class="mf">122.1</span>
    <span class="n">d30600</span>              <span class="o">=</span> <span class="mf">30.6001</span>
    <span class="n">half</span>                <span class="o">=</span> <span class="mf">0.5</span>
    <span class="n">ib</span>                  <span class="o">=</span> <span class="o">-</span><span class="mi">15</span>
    <span class="n">d17209</span>              <span class="o">=</span> <span class="mf">1720996.5</span>

    <span class="c1">######  CONVERT FROM MJDS TO MJD</span>
    <span class="c1"># Inputs:</span>
    <span class="n">MJDS</span> <span class="o">=</span> <span class="n">input_ModJulianDay_secs</span>
    <span class="c1">#</span>
    <span class="n">MJD</span> <span class="o">=</span> <span class="p">(</span><span class="n">MJDS</span><span class="o">/</span><span class="n">SECDAY</span><span class="p">)</span> <span class="o">+</span> <span class="n">geodyn_ref_time_mjd</span>

    <span class="c1">######  CONVERT FROM MJD TO YMD</span>
    <span class="c1"># Note from zach-- I took this calculation from geodyn...</span>
    <span class="c1"># There is more going on here than I understand,</span>
    <span class="c1"># but I want to stay on their level of accuracy</span>
    <span class="c1">#</span>
    <span class="n">JD</span> <span class="o">=</span> <span class="n">MJD</span> <span class="o">+</span> <span class="n">jd_0</span>                  <span class="c1">#  Convert to JulianDay</span>
    <span class="n">c</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">JD</span> <span class="o">+</span> <span class="n">half</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1537</span>     <span class="c1"># ??   sorry, i&#39;m   ??</span>
    <span class="n">nd</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="p">(</span><span class="n">c</span> <span class="o">-</span> <span class="n">d122</span><span class="p">)</span> <span class="o">/</span> <span class="n">d36525</span> <span class="p">)</span>  <span class="c1"># ??   not sure     ??</span>
    <span class="n">e</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">d36525</span> <span class="o">*</span> <span class="n">nd</span> <span class="p">)</span>          <span class="c1"># ??   what this    ??</span>
    <span class="n">nf</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="p">(</span> <span class="n">c</span> <span class="o">-</span> <span class="n">e</span> <span class="p">)</span> <span class="o">/</span> <span class="n">d30600</span> <span class="p">)</span>   <span class="c1"># ??   all is       ??</span>
    <span class="c1"># ----</span>
    <span class="n">frac</span> <span class="o">=</span> <span class="p">(</span><span class="n">JD</span> <span class="o">+</span> <span class="n">half</span><span class="p">)</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span> <span class="n">JD</span> <span class="o">+</span> <span class="n">half</span> <span class="p">)</span>           <span class="c1"># frac of day leftover</span>
    <span class="n">iday</span> <span class="o">=</span> <span class="n">c</span> <span class="o">-</span> <span class="n">e</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span> <span class="n">d30600</span> <span class="o">*</span> <span class="n">nf</span> <span class="p">)</span> <span class="o">+</span> <span class="n">frac</span>        <span class="c1"># day</span>
    <span class="n">imonth</span>  <span class="o">=</span> <span class="n">nf</span> <span class="o">-</span>  <span class="mi">1</span>   <span class="o">-</span> <span class="mi">12</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span> <span class="n">nf</span> <span class="o">/</span> <span class="mi">14</span> <span class="p">)</span>       <span class="c1"># month</span>
    <span class="n">iyyyy</span> <span class="o">=</span> <span class="n">nd</span> <span class="o">-</span> <span class="mi">4715</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span>  <span class="p">(</span> <span class="mi">7</span> <span class="o">+</span> <span class="n">imonth</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">10</span> <span class="p">)</span> <span class="c1"># YYYY</span>
    <span class="c1">#</span>
    <span class="c1">##### Use modular division to get 2 digit year</span>
    <span class="n">iyear</span> <span class="o">=</span>  <span class="n">iyyyy</span> <span class="o">%</span> <span class="mi">100</span>
    <span class="c1">#</span>
    <span class="c1">#### Return YYMMDD</span>
    <span class="n">yymmdd</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">iyear</span> <span class="o">*</span> <span class="mi">10000</span> <span class="o">+</span> <span class="n">imonth</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">iday</span><span class="p">)</span>


    <span class="c1">##### Calculate Hours, Minutes, seconds</span>
    <span class="n">isec_mjd</span>  <span class="o">=</span>  <span class="n">MJDS</span> <span class="o">%</span> <span class="mi">86400</span>

    <span class="n">ihour</span>    <span class="o">=</span> <span class="n">isec_mjd</span><span class="o">/</span><span class="mi">3600</span>
    <span class="n">iminutes</span> <span class="o">=</span> <span class="p">(</span><span class="n">ihour</span> <span class="o">%</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">60</span>
    <span class="n">isec</span>     <span class="o">=</span> <span class="p">(</span><span class="n">iminutes</span> <span class="o">%</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">60</span>

    <span class="n">ihour_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">((</span><span class="n">ihour</span><span class="p">)))</span>
    <span class="n">iminutes_str</span>  <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">((</span><span class="n">iminutes</span><span class="p">)))</span>
    <span class="n">isec_str</span>      <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">isec</span><span class="p">)))</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ihour_str</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">ihour_str</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span><span class="o">+</span><span class="n">ihour_str</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">iminutes_str</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">iminutes_str</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span><span class="o">+</span><span class="n">iminutes_str</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">isec_str</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">isec_str</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span><span class="o">+</span><span class="n">isec_str</span>

    <span class="c1">#hhmmss  =  int((ihour*10000) + (iminutes*100) + isec)</span>
    <span class="n">hhmmss</span>  <span class="o">=</span>  <span class="n">ihour_str</span> <span class="o">+</span> <span class="n">iminutes_str</span> <span class="o">+</span> <span class="n">isec_str</span>
    <span class="n">YYMMDDHHMMSS</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">yymmdd</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">hhmmss</span><span class="p">)</span>


    <span class="k">return</span><span class="p">(</span><span class="n">YYMMDDHHMMSS</span><span class="p">)</span>




<span class="k">def</span> <span class="nf">Convert_ET_TDT_to_UTC</span><span class="p">(</span><span class="n">terrestrial_time_mjdsec</span><span class="p">,</span> <span class="n">leap_seconds</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    ET is Ephemeris Time and has been numerically equivalent to</span>
<span class="sd">    Terrestral Time (TT) or Terrestral Dynamic Time (TDT) since mid 1970’s.</span>

<span class="sd">    TT is distinct from the time scale often used as a</span>
<span class="sd">        basis for civil purposes, Coordinated Universal Time (UTC).</span>
<span class="sd">        TT is indirectly the basis of UTC, via</span>
<span class="sd">        International Atomic Time (TAI).</span>
<span class="sd">        Because of the historical difference between TAI and ET</span>
<span class="sd">        when TT was introduced, TT is approximately 32.184 s</span>
<span class="sd">        ahead of TAI.</span>

<span class="sd">        ??ET - A1 = 32.1496183??</span>

<span class="sd">        TDT = TAI + 32.184</span>
<span class="sd">        TAI = UTC + dAT</span>
<span class="sd">            where dAT is the total algebraic sum of leap seconds</span>

<span class="sd">            As of 1 January 2017,</span>
<span class="sd">            TAI is ahead of UTC   by 37 seconds.</span>
<span class="sd">            TAI is ahead of GPS   by 19 seconds.</span>
<span class="sd">            GPS is ahead of UTC   by 18 seconds.</span>


<span class="sd">    Convert ET to UTC:</span>
<span class="sd">        UTC  =  TT - dAT - 32.184 s</span>
<span class="sd">     &#39;&#39;&#39;</span>



    <span class="n">TT</span>  <span class="o">=</span> <span class="n">terrestrial_time_mjdsec</span>
    <span class="n">dAT</span> <span class="o">=</span> <span class="n">leap_seconds</span>

    <span class="n">UTC</span> <span class="o">=</span> <span class="n">TT</span> <span class="o">-</span> <span class="n">dAT</span> <span class="o">-</span> <span class="mf">32.184</span>
    <span class="n">mjdsecs_UTC</span> <span class="o">=</span> <span class="n">UTC</span>

    <span class="k">return</span><span class="p">(</span><span class="n">mjdsecs_UTC</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">scipy.io</span> <span class="kn">import</span> <span class="n">FortranFile</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="c1"># Fortran calls</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">os</span>





<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;bunzip2 -v &#39;</span><span class="o">+</span> <span class="n">orb_fil</span> <span class="o">+</span><span class="s1">&#39;.bz2&#39;</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">FortranFile</span><span class="p">(</span><span class="n">orb_fil</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="c1">#### -----------------------------------------------------</span>
<span class="c1">#### ------------------- HEADER RECORD -------------------</span>
<span class="c1">#### -----------------------------------------------------</span>
<span class="c1">### Read the first record, this is the header buffer</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read_record</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>  <span class="c1"># read the record with the required datatype</span>


<span class="c1">#### Glean important variables</span>
<span class="n">NA</span>     <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># Number of alphanumeric buffers to follow the header</span>
<span class="n">NC</span>     <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># Number of card images in the GEODYN II input control deck</span>
<span class="n">NSATS</span>  <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">7</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># Number of satellites on this file:</span>
<span class="n">NWDSAT</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">8</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># Actual number of words per satellite per time point (NWDSAT &lt;= 39).</span>
<span class="n">NWDATA</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">9</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>   <span class="c1">#NSATS*NWDSAT</span>
<span class="n">NTIMBF</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># Number of time points per Data Buffer</span>

<span class="n">header</span><span class="o">=</span> <span class="p">{}</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Number of alphanumeric data buffers to follow (NA)&#39;</span><span class="p">]</span>             <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Number of card images in the GEODYN II input control deck (NC)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Arc Number.&#39;</span><span class="p">]</span>                                                    <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Global Iteration Number&#39;</span><span class="p">]</span>                                        <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Inner Iteration Number&#39;</span><span class="p">]</span>                                         <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">6</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Number of satellites on this file&#39;</span><span class="p">]</span>                              <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">7</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># upper limit of 50</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Actual number of words per satellite per time point&#39;</span><span class="p">]</span>            <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">8</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Number of words of data per time point (NWDATA=NSATS*NWDSAT)&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">9</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Number of time points per Data Buffer (NTIMBF)&#39;</span><span class="p">]</span>                 <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Trajectory Start Date &amp; Time in form YYMMDDHHMMSS .0D0 UTC&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">11</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Fractional seconds of Start Time. UTC&#39;</span><span class="p">]</span>                          <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">12</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Trajectory Stop Date &amp; Time in form YYMMDDHHMMSS .0D0 UTC&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">13</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Fractional seconds of Stop Time. UTC&#39;</span><span class="p">]</span>                           <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">14</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Trajectory Start Date &amp; Time in MJDS&#39;</span><span class="p">]</span>                           <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">15</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># (MJDS=(JD -2430000.5 D0 )*86400+ ISEC) ET</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Fractional seconds of Start Time&#39;</span><span class="p">]</span>                               <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">16</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Trajectory Stop Date &amp; Time in MJDS&#39;</span><span class="p">]</span>                            <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">17</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># (MJDS=(JD -2430000.5 D0 )*86400+ ISEC) ET</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Fractional seconds of Stop Time. ET&#39;</span><span class="p">]</span>                            <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">18</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Nominal interval between trajectory times in seconds. ET &#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">19</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Nominal number of trajectory times.&#39;</span><span class="p">]</span>                            <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">20</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Output S/C ephem ref sys(0 = TOD, 1 = TOR, 2 =  J2000)&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">22</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="c1">#</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Speed of Light.&#39;</span><span class="p">]</span>                                     <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">101</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;GM for Earth.&#39;</span><span class="p">]</span>                                       <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">102</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Semi -major axis of Earth reference ellipsoid.&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">103</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Equatorial Flattening of Earth reference ellipsoid.&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">104</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Gravitational Potential Checksum.&#39;</span><span class="p">]</span>                   <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">105</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Maximum Degree of Gravitational Expansion.&#39;</span><span class="p">]</span>          <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">106</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Maximum Order of Gravitational Expansion.&#39;</span><span class="p">]</span>           <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">107</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>   <span class="c1">### SKIP from 108 -200</span>
<span class="c1">#</span>
<span class="c1">#### PRESENCE ON FILE INDICATORS</span>
<span class="c1">## right ascension of Greenwich</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence of right ascension of Greenwich for each time point in each Buffer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">201</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="c1">## Inertial State Vector</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of inertial X coordinate for each time point&#39;</span><span class="p">]</span>    <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">202</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of inertial Y coordinate for each time point&#39;</span><span class="p">]</span>    <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">203</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of inertial Z coordinate for each time point&#39;</span><span class="p">]</span>    <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">204</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of inertial Xdot coordinate for each time point&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">205</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of inertial Ydot coordinate for each time point&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">206</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of inertial Zdot coordinate for each time point&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">207</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="c1">#</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of geodetic latitude for each time point&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">208</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of east longitude for each time point&#39;</span><span class="p">]</span>    <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">209</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="c1">#</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of ECF X coordinate for each time point&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">210</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of ECF Y coordinate for each time point&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">211</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of ECF Z coordinate for each time point&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">212</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of ECF Xdot for each time point&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">213</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of ECF Ydot for each time point&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">214</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of ECF Zdot for each time point&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">215</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of polar motion X for each time point&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">216</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of polar motion Y for each time point&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">217</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of beta prime angle for each time point&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">218</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of yaw angle for each time point&#39;</span><span class="p">]</span>        <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">219</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">header</span><span class="p">[</span><span class="s1">&#39;Presence per Sat. of orbit angle for each time point&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">220</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1">##### Satellite ID ’s for all Satellites on File.</span>
<span class="c1">###       Trajectory data is ordered based upon order of these Satellite ID ’s.&#39;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">NSATS</span><span class="p">)):</span>
    <span class="n">ii</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">index_sats</span> <span class="o">=</span> <span class="mi">300</span> <span class="o">+</span> <span class="p">(</span><span class="n">ii</span><span class="p">)</span>
    <span class="n">header</span><span class="p">[</span><span class="s1">&#39;Satellite &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; ID&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">index_sats</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>


<span class="c1">#### ----------------------------------------------------</span>
<span class="c1">#### --------------- ALPHANUMERIC RECORDS ---------------</span>
<span class="c1">#### ----------------------------------------------------</span>
<span class="c1">#### We don&#39;t care about the Alphanumeric buffers so skip over them.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">NA</span><span class="p">)):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read_record</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>


<span class="c1">#### -----------------------------------------------------</span>
<span class="c1">#### -------------- DATA + SENTINEL RECORDS --------------</span>
<span class="c1">#### -----------------------------------------------------</span>
<span class="c1">### Read the Data records in a while loop.</span>
<span class="c1">### When we hit the end_data_val, we have reached the</span>
<span class="c1">###    sentinel record and we can exit the while loop</span>
<span class="c1">###    to read in the sentinel buffer.</span>


<span class="n">end_data_val</span>           <span class="o">=</span> <span class="mi">9000000000</span>
<span class="n">end_datarecord</span>         <span class="o">=</span> <span class="kc">False</span>
<span class="n">data_dict_times</span>        <span class="o">=</span> <span class="p">{}</span>
<span class="n">data_dict_RA_greenwich</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">data_dict_sat_packets</span>  <span class="o">=</span> <span class="p">{}</span>

<span class="n">count_while</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;MJDSEC ET&#39;</span><span class="p">]</span>                       <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial X coordinate&#39;</span><span class="p">]</span> <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial Y coordinate&#39;</span><span class="p">]</span> <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial Z coordinate&#39;</span><span class="p">]</span> <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial X velocity&#39;</span><span class="p">]</span>   <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial Y velocity&#39;</span><span class="p">]</span>   <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial Z velocity&#39;</span><span class="p">]</span>   <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Geodetic Latitude&#39;</span><span class="p">]</span>     <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite East Longitude&#39;</span><span class="p">]</span>        <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Height&#39;</span><span class="p">]</span>                <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF X coordinate&#39;</span><span class="p">]</span>      <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF Y coordinate&#39;</span><span class="p">]</span>      <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF Z coordinate&#39;</span><span class="p">]</span>      <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF X velocity&#39;</span><span class="p">]</span>        <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF Y velocity&#39;</span><span class="p">]</span>        <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF Z velocity&#39;</span><span class="p">]</span>        <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Polar Motion X&#39;</span><span class="p">]</span>                  <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Polar Motion Y&#39;</span><span class="p">]</span>                  <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Beta prime angle&#39;</span><span class="p">]</span>                <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Yaw angle&#39;</span><span class="p">]</span>                       <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Orbit Angle&#39;</span><span class="p">]</span>                     <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Q(1)&#39;</span><span class="p">]</span>                            <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Q(2)&#39;</span><span class="p">]</span>                            <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Q(3)&#39;</span><span class="p">]</span>                            <span class="o">=</span><span class="p">[]</span>
<span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Q(4)&#39;</span><span class="p">]</span>                            <span class="o">=</span><span class="p">[]</span>

<span class="k">while</span> <span class="n">end_datarecord</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>

    <span class="c1">### Read in each data buffer</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read_record</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">end_data_val</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
        <span class="n">count_while</span><span class="o">+=</span><span class="mi">1</span>
        <span class="n">NTB</span>    <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># Number of trajectory times in this Data Buffer (NTB &lt;= NTIMBF ).</span>
        <span class="n">MJDSBF</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1">#### Trajectory Times in elapsed ET seconds from MJDSBF</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">itime</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span> <span class="p">(</span><span class="mi">6</span><span class="p">)</span>   <span class="p">,</span>   <span class="p">((</span><span class="n">NTB</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>  <span class="o">+</span><span class="mi">1</span><span class="p">)</span>  <span class="p">):</span>
            <span class="n">index_times</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">itime</span><span class="p">)</span>
            <span class="n">data_dict_times</span><span class="p">[</span><span class="n">counter</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">MJDSBF</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="n">index_times</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
            <span class="n">counter</span><span class="o">+=</span><span class="mi">1</span>

<span class="c1">#             if counter &lt;= 100:</span>
<span class="c1">#                 print(MJDSBF + a[index_times-1])</span>


        <span class="c1">#### Right Ascension of Greenwich Values (radians) for each time in Buffer.</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">((</span><span class="n">NTIMBF</span><span class="o">+</span><span class="mi">6</span><span class="p">)</span> <span class="p">,((</span><span class="n">NTIMBF</span><span class="o">+</span><span class="mi">5</span> <span class="o">+</span> <span class="n">NTB</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)):</span>
            <span class="n">counter</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">data_dict_RA_greenwich</span><span class="p">[</span><span class="s1">&#39;Right Ascension of Greenwich Values &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">counter</span><span class="p">)]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>


        <span class="c1">##### Satellite Data Packets</span>
        <span class="c1">#####    first satellite</span>
        <span class="c1">#####    first time point</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">first_sat_first_time</span> <span class="o">=</span> <span class="p">((</span><span class="n">NSATS</span> <span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span> <span class="n">NTIMBF</span> <span class="o">+</span><span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">NSATS</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span> <span class="n">NWDSAT</span> <span class="c1">#2* NTIMBF +6</span>
        <span class="n">last_sat_last_time</span>   <span class="o">=</span> <span class="p">((</span><span class="n">NSATS</span> <span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span> <span class="n">NTIMBF</span> <span class="o">+</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="n">NSATS</span><span class="o">*</span><span class="n">NWDSAT</span><span class="o">*</span><span class="n">NTB</span> <span class="c1">#(((NSATS+1)* NTIMBF+5)+(NSATS*NWDSAT))</span>

<span class="c1">#         print(&#39;first_sat_first_time&#39;, first_sat_first_time)</span>
<span class="c1">#         print(&#39;last_sat_last_time  &#39;, last_sat_last_time)</span>




        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">first_sat_first_time</span><span class="p">,</span> <span class="n">last_sat_last_time</span>  <span class="p">,</span> <span class="mi">24</span><span class="p">):</span>
            <span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;MJDSEC ET&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_dict_times</span><span class="p">[</span><span class="n">counter</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial X coordinate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial Y coordinate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial Z coordinate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial X velocity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial Y velocity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">5</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Inertial Z velocity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">6</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Geodetic Latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">7</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite East Longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">8</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite Height&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">9</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF X coordinate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">10</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF Y coordinate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">11</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF Z coordinate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">12</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF X velocity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">13</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF Y velocity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">14</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Satellite ECF Z velocity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">15</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Polar Motion X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">16</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Polar Motion Y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">17</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Beta prime angle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">18</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Yaw angle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">19</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Orbit Angle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">20</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Q(1)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">21</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Q(2)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">22</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Q(3)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">23</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">data_dict_sat_packets</span><span class="p">[</span><span class="s1">&#39;Q(4)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[(</span><span class="n">index</span> <span class="o">+</span><span class="mi">24</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">counter</span><span class="o">+=</span><span class="mi">1</span>


<span class="c1">#         print(&#39;counter&#39;,counter)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1">####  If the the first index has +9000000000 we are at the sentinel record</span>
        <span class="c1">#     which denotes the end of the data section.</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----- End of file&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sentinel buffer indicator                       &#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Count of the number of Data Buffers. GEODYN     &#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;GEODYN II Interface File creation date and time.&#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;GEODYN II -S version used.                      &#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;GEODYN II -E version used.                      &#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;spare                                           &#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">6</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;spare                                           &#39;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">7</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">end_datarecord</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1">#### be sure to close the file</span>


<span class="n">data_record_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data_dict_sat_packets</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>

<span class="c1">#### Save as a dictionary</span>
<span class="n">orbfil_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">orbfil_dict</span><span class="p">[</span><span class="s1">&#39;header&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">header</span>
<span class="n">orbfil_dict</span><span class="p">[</span><span class="s1">&#39;data_record&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_record_df</span>


<span class="c1">##### Convert from Terrestrial time to UTC:</span>
<span class="n">MJDS_UTC</span> <span class="o">=</span> <span class="p">[</span><span class="n">Convert_ET_TDT_to_UTC</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="mi">37</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">orbfil_dict</span><span class="p">[</span><span class="s1">&#39;data_record&#39;</span><span class="p">][</span><span class="s1">&#39;MJDSEC ET&#39;</span><span class="p">]</span> <span class="p">]</span>


<span class="c1">##### Calculate the Gregorian Calendar date:</span>
<span class="n">yymmdd_str</span> <span class="o">=</span> <span class="p">[</span><span class="n">MJDS_to_YYMMDDHHMMSS</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">MJDS_UTC</span><span class="p">]</span>


<span class="c1">##### Compute date as Datetime object:</span>
<span class="n">dates_dt_UTC</span> <span class="o">=</span> <span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%y%m</span><span class="si">%d</span><span class="s1">-%H%M%S&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">yymmdd_str</span><span class="p">]</span>

<span class="n">orbfil_dict</span><span class="p">[</span><span class="s1">&#39;data_record&#39;</span><span class="p">][</span><span class="s2">&quot;Date_UTC&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dates_dt_UTC</span>

<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;bzip2 -v &#39;</span><span class="o">+</span> <span class="n">orb_fil</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
----- End of file
sentinel buffer indicator                        9000000000.0
Count of the number of Data Buffers. GEODYN      414.0
GEODYN II Interface File creation date and time. 20210521232530.0
GEODYN II -S version used.                       1810.800048828125
GEODYN II -E version used.                       1810.8
spare                                            0.0
spare                                            0.0
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">MJDS_UTC</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[2456514000.0,
 2456514006.0,
 2456514012.0,
 2456514018.0,
 2456514024.0,
 2456514030.0,
 2456514036.0,
 2456514042.0,
 2456514048.0,
 2456514054.0,
 2456514060.0,
 2456514066.0,
 2456514072.0,
 2456514078.0,
 2456514084.0,
 2456514090.0,
 2456514096.0,
 2456514102.0,
 2456514108.0,
 2456514114.0,
 2456514120.0,
 2456514126.0,
 2456514132.0,
 2456514138.0,
 2456514144.0,
 2456514150.0,
 2456514156.0,
 2456514162.0,
 2456514168.0,
 2456514174.0,
 2456514180.0,
 2456514186.0,
 2456514192.0,
 2456514198.0,
 2456514204.0,
 2456514210.0,
 2456514216.0,
 2456514222.0,
 2456514228.0,
 2456514234.0,
 2456514240.0,
 2456514246.0,
 2456514252.0,
 2456514258.0,
 2456514264.0,
 2456514270.0,
 2456514276.0,
 2456514282.0,
 2456514288.0,
 2456514294.0,
 2456514300.0,
 2456514306.0,
 2456514312.0,
 2456514318.0,
 2456514324.0,
 2456514330.0,
 2456514336.0,
 2456514342.0,
 2456514348.0,
 2456514354.0,
 2456514360.0,
 2456514366.0,
 2456514372.0,
 2456514378.0,
 2456514384.0,
 2456514390.0,
 2456514396.0,
 2456514402.0,
 2456514408.0,
 2456514414.0,
 2456514420.0,
 2456514426.0,
 2456514432.0,
 2456514438.0,
 2456514444.0,
 2456514450.0,
 2456514456.0,
 2456514462.0,
 2456514468.0,
 2456514474.0,
 2456514480.0,
 2456514486.0,
 2456514492.0,
 2456514498.0,
 2456514504.0,
 2456514510.0,
 2456514516.0,
 2456514522.0,
 2456514528.0,
 2456514534.0,
 2456514540.0,
 2456514546.0,
 2456514552.0,
 2456514558.0,
 2456514564.0,
 2456514570.0,
 2456514576.0,
 2456514582.0,
 2456514588.0,
 2456514594.0,
 2456514600.0,
 2456514606.0,
 2456514612.0,
 2456514618.0,
 2456514624.0,
 2456514630.0,
 2456514636.0,
 2456514642.0,
 2456514648.0,
 2456514654.0,
 2456514660.0,
 2456514666.0,
 2456514672.0,
 2456514678.0,
 2456514684.0,
 2456514690.0,
 2456514696.0,
 2456514702.0,
 2456514708.0,
 2456514714.0,
 2456514720.0,
 2456514726.0,
 2456514732.0,
 2456514738.0,
 2456514744.0,
 2456514750.0,
 2456514756.0,
 2456514762.0,
 2456514768.0,
 2456514774.0,
 2456514780.0,
 2456514786.0,
 2456514792.0,
 2456514798.0,
 2456514804.0,
 2456514810.0,
 2456514816.0,
 2456514822.0,
 2456514828.0,
 2456514834.0,
 2456514840.0,
 2456514846.0,
 2456514852.0,
 2456514858.0,
 2456514864.0,
 2456514870.0,
 2456514876.0,
 2456514882.0,
 2456514888.0,
 2456514894.0,
 2456514900.0,
 2456514906.0,
 2456514912.0,
 2456514918.0,
 2456514924.0,
 2456514930.0,
 2456514936.0,
 2456514942.0,
 2456514948.0,
 2456514954.0,
 2456514960.0,
 2456514966.0,
 2456514972.0,
 2456514978.0,
 2456514984.0,
 2456514990.0,
 2456514996.0,
 2456515002.0,
 2456515008.0,
 2456515014.0,
 2456515020.0,
 2456515026.0,
 2456515032.0,
 2456515038.0,
 2456515044.0,
 2456515050.0,
 2456515056.0,
 2456515062.0,
 2456515068.0,
 2456515074.0,
 2456515080.0,
 2456515086.0,
 2456515092.0,
 2456515098.0,
 2456515104.0,
 2456515110.0,
 2456515116.0,
 2456515122.0,
 2456515128.0,
 2456515134.0,
 2456515140.0,
 2456515146.0,
 2456515152.0,
 2456515158.0,
 2456515164.0,
 2456515170.0,
 2456515176.0,
 2456515182.0,
 2456515188.0,
 2456515194.0,
 2456515200.0,
 2456515206.0,
 2456515212.0,
 2456515218.0,
 2456515224.0,
 2456515230.0,
 2456515236.0,
 2456515242.0,
 2456515248.0,
 2456515254.0,
 2456515260.0,
 2456515266.0,
 2456515272.0,
 2456515278.0,
 2456515284.0,
 2456515290.0,
 2456515296.0,
 2456515302.0,
 2456515308.0,
 2456515314.0,
 2456515320.0,
 2456515326.0,
 2456515332.0,
 2456515338.0,
 2456515344.0,
 2456515350.0,
 2456515356.0,
 2456515362.0,
 2456515368.0,
 2456515374.0,
 2456515380.0,
 2456515386.0,
 2456515392.0,
 2456515398.0,
 2456515404.0,
 2456515410.0,
 2456515416.0,
 2456515422.0,
 2456515428.0,
 2456515434.0,
 2456515440.0,
 2456515446.0,
 2456515452.0,
 2456515458.0,
 2456515464.0,
 2456515470.0,
 2456515476.0,
 2456515482.0,
 2456515488.0,
 2456515494.0,
 2456515500.0,
 2456515506.0,
 2456515512.0,
 2456515518.0,
 2456515524.0,
 2456515530.0,
 2456515536.0,
 2456515542.0,
 2456515548.0,
 2456515554.0,
 2456515560.0,
 2456515566.0,
 2456515572.0,
 2456515578.0,
 2456515584.0,
 2456515590.0,
 2456515596.0,
 2456515602.0,
 2456515608.0,
 2456515614.0,
 2456515620.0,
 2456515626.0,
 2456515632.0,
 2456515638.0,
 2456515644.0,
 2456515650.0,
 2456515656.0,
 2456515662.0,
 2456515668.0,
 2456515674.0,
 2456515680.0,
 2456515686.0,
 2456515692.0,
 2456515698.0,
 2456515704.0,
 2456515710.0,
 2456515716.0,
 2456515722.0,
 2456515728.0,
 2456515734.0,
 2456515740.0,
 2456515746.0,
 2456515752.0,
 2456515758.0,
 2456515764.0,
 2456515770.0,
 2456515776.0,
 2456515782.0,
 2456515788.0,
 2456515794.0,
 2456515800.0,
 2456515806.0,
 2456515812.0,
 2456515818.0,
 2456515824.0,
 2456515830.0,
 2456515836.0,
 2456515842.0,
 2456515848.0,
 2456515854.0,
 2456515860.0,
 2456515866.0,
 2456515872.0,
 2456515878.0,
 2456515884.0,
 2456515890.0,
 2456515896.0,
 2456515902.0,
 2456515908.0,
 2456515914.0,
 2456515920.0,
 2456515926.0,
 2456515932.0,
 2456515938.0,
 2456515944.0,
 2456515950.0,
 2456515956.0,
 2456515962.0,
 2456515968.0,
 2456515974.0,
 2456515980.0,
 2456515986.0,
 2456515992.0,
 2456515998.0,
 2456516004.0,
 2456516010.0,
 2456516016.0,
 2456516022.0,
 2456516028.0,
 2456516034.0,
 2456516040.0,
 2456516046.0,
 2456516052.0,
 2456516058.0,
 2456516064.0,
 2456516070.0,
 2456516076.0,
 2456516082.0,
 2456516088.0,
 2456516094.0,
 2456516100.0,
 2456516106.0,
 2456516112.0,
 2456516118.0,
 2456516124.0,
 2456516130.0,
 2456516136.0,
 2456516142.0,
 2456516148.0,
 2456516154.0,
 2456516160.0,
 2456516166.0,
 2456516172.0,
 2456516178.0,
 2456516184.0,
 2456516190.0,
 2456516196.0,
 2456516202.0,
 2456516208.0,
 2456516214.0,
 2456516220.0,
 2456516226.0,
 2456516232.0,
 2456516238.0,
 2456516244.0,
 2456516250.0,
 2456516256.0,
 2456516262.0,
 2456516268.0,
 2456516274.0,
 2456516280.0,
 2456516286.0,
 2456516292.0,
 2456516298.0,
 2456516304.0,
 2456516310.0,
 2456516316.0,
 2456516322.0,
 2456516328.0,
 2456516334.0,
 2456516340.0,
 2456516346.0,
 2456516352.0,
 2456516358.0,
 2456516364.0,
 2456516370.0,
 2456516376.0,
 2456516382.0,
 2456516388.0,
 2456516394.0,
 2456516400.0,
 2456516406.0,
 2456516412.0,
 2456516418.0,
 2456516424.0,
 2456516430.0,
 2456516436.0,
 2456516442.0,
 2456516448.0,
 2456516454.0,
 2456516460.0,
 2456516466.0,
 2456516472.0,
 2456516478.0,
 2456516484.0,
 2456516490.0,
 2456516496.0,
 2456516502.0,
 2456516508.0,
 2456516514.0,
 2456516520.0,
 2456516526.0,
 2456516532.0,
 2456516538.0,
 2456516544.0,
 2456516550.0,
 2456516556.0,
 2456516562.0,
 2456516568.0,
 2456516574.0,
 2456516580.0,
 2456516586.0,
 2456516592.0,
 2456516598.0,
 2456516604.0,
 2456516610.0,
 2456516616.0,
 2456516622.0,
 2456516628.0,
 2456516634.0,
 2456516640.0,
 2456516646.0,
 2456516652.0,
 2456516658.0,
 2456516664.0,
 2456516670.0,
 2456516676.0,
 2456516682.0,
 2456516688.0,
 2456516694.0,
 2456516700.0,
 2456516706.0,
 2456516712.0,
 2456516718.0,
 2456516724.0,
 2456516730.0,
 2456516736.0,
 2456516742.0,
 2456516748.0,
 2456516754.0,
 2456516760.0,
 2456516766.0,
 2456516772.0,
 2456516778.0,
 2456516784.0,
 2456516790.0,
 2456516796.0,
 2456516802.0,
 2456516808.0,
 2456516814.0,
 2456516820.0,
 2456516826.0,
 2456516832.0,
 2456516838.0,
 2456516844.0,
 2456516850.0,
 2456516856.0,
 2456516862.0,
 2456516868.0,
 2456516874.0,
 2456516880.0,
 2456516886.0,
 2456516892.0,
 2456516898.0,
 2456516904.0,
 2456516910.0,
 2456516916.0,
 2456516922.0,
 2456516928.0,
 2456516934.0,
 2456516940.0,
 2456516946.0,
 2456516952.0,
 2456516958.0,
 2456516964.0,
 2456516970.0,
 2456516976.0,
 2456516982.0,
 2456516988.0,
 2456516994.0,
 2456517000.0,
 2456517006.0,
 2456517012.0,
 2456517018.0,
 2456517024.0,
 2456517030.0,
 2456517036.0,
 2456517042.0,
 2456517048.0,
 2456517054.0,
 2456517060.0,
 2456517066.0,
 2456517072.0,
 2456517078.0,
 2456517084.0,
 2456517090.0,
 2456517096.0,
 2456517102.0,
 2456517108.0,
 2456517114.0,
 2456517120.0,
 2456517126.0,
 2456517132.0,
 2456517138.0,
 2456517144.0,
 2456517150.0,
 2456517156.0,
 2456517162.0,
 2456517168.0,
 2456517174.0,
 2456517180.0,
 2456517186.0,
 2456517192.0,
 2456517198.0,
 2456517204.0,
 2456517210.0,
 2456517216.0,
 2456517222.0,
 2456517228.0,
 2456517234.0,
 2456517240.0,
 2456517246.0,
 2456517252.0,
 2456517258.0,
 2456517264.0,
 2456517270.0,
 2456517276.0,
 2456517282.0,
 2456517288.0,
 2456517294.0,
 2456517300.0,
 2456517306.0,
 2456517312.0,
 2456517318.0,
 2456517324.0,
 2456517330.0,
 2456517336.0,
 2456517342.0,
 2456517348.0,
 2456517354.0,
 2456517360.0,
 2456517366.0,
 2456517372.0,
 2456517378.0,
 2456517384.0,
 2456517390.0,
 2456517396.0,
 2456517402.0,
 2456517408.0,
 2456517414.0,
 2456517420.0,
 2456517426.0,
 2456517432.0,
 2456517438.0,
 2456517444.0,
 2456517450.0,
 2456517456.0,
 2456517462.0,
 2456517468.0,
 2456517474.0,
 2456517480.0,
 2456517486.0,
 2456517492.0,
 2456517498.0,
 2456517504.0,
 2456517510.0,
 2456517516.0,
 2456517522.0,
 2456517528.0,
 2456517534.0,
 2456517540.0,
 2456517546.0,
 2456517552.0,
 2456517558.0,
 2456517564.0,
 2456517570.0,
 2456517576.0,
 2456517582.0,
 2456517588.0,
 2456517594.0,
 2456517600.0,
 2456517606.0,
 2456517612.0,
 2456517618.0,
 2456517624.0,
 2456517630.0,
 2456517636.0,
 2456517642.0,
 2456517648.0,
 2456517654.0,
 2456517660.0,
 2456517666.0,
 2456517672.0,
 2456517678.0,
 2456517684.0,
 2456517690.0,
 2456517696.0,
 2456517702.0,
 2456517708.0,
 2456517714.0,
 2456517720.0,
 2456517726.0,
 2456517732.0,
 2456517738.0,
 2456517744.0,
 2456517750.0,
 2456517756.0,
 2456517762.0,
 2456517768.0,
 2456517774.0,
 2456517780.0,
 2456517786.0,
 2456517792.0,
 2456517798.0,
 2456517804.0,
 2456517810.0,
 2456517816.0,
 2456517822.0,
 2456517828.0,
 2456517834.0,
 2456517840.0,
 2456517846.0,
 2456517852.0,
 2456517858.0,
 2456517864.0,
 2456517870.0,
 2456517876.0,
 2456517882.0,
 2456517888.0,
 2456517894.0,
 2456517900.0,
 2456517906.0,
 2456517912.0,
 2456517918.0,
 2456517924.0,
 2456517930.0,
 2456517936.0,
 2456517942.0,
 2456517948.0,
 2456517954.0,
 2456517960.0,
 2456517966.0,
 2456517972.0,
 2456517978.0,
 2456517984.0,
 2456517990.0,
 2456517996.0,
 2456518002.0,
 2456518008.0,
 2456518014.0,
 2456518020.0,
 2456518026.0,
 2456518032.0,
 2456518038.0,
 2456518044.0,
 2456518050.0,
 2456518056.0,
 2456518062.0,
 2456518068.0,
 2456518074.0,
 2456518080.0,
 2456518086.0,
 2456518092.0,
 2456518098.0,
 2456518104.0,
 2456518110.0,
 2456518116.0,
 2456518122.0,
 2456518128.0,
 2456518134.0,
 2456518140.0,
 2456518146.0,
 2456518152.0,
 2456518158.0,
 2456518164.0,
 2456518170.0,
 2456518176.0,
 2456518182.0,
 2456518188.0,
 2456518194.0,
 2456518200.0,
 2456518206.0,
 2456518212.0,
 2456518218.0,
 2456518224.0,
 2456518230.0,
 2456518236.0,
 2456518242.0,
 2456518248.0,
 2456518254.0,
 2456518260.0,
 2456518266.0,
 2456518272.0,
 2456518278.0,
 2456518284.0,
 2456518290.0,
 2456518296.0,
 2456518302.0,
 2456518308.0,
 2456518314.0,
 2456518320.0,
 2456518326.0,
 2456518332.0,
 2456518338.0,
 2456518344.0,
 2456518350.0,
 2456518356.0,
 2456518362.0,
 2456518368.0,
 2456518374.0,
 2456518380.0,
 2456518386.0,
 2456518392.0,
 2456518398.0,
 2456518404.0,
 2456518410.0,
 2456518416.0,
 2456518422.0,
 2456518428.0,
 2456518434.0,
 2456518440.0,
 2456518446.0,
 2456518452.0,
 2456518458.0,
 2456518464.0,
 2456518470.0,
 2456518476.0,
 2456518482.0,
 2456518488.0,
 2456518494.0,
 2456518500.0,
 2456518506.0,
 2456518512.0,
 2456518518.0,
 2456518524.0,
 2456518530.0,
 2456518536.0,
 2456518542.0,
 2456518548.0,
 2456518554.0,
 2456518560.0,
 2456518566.0,
 2456518572.0,
 2456518578.0,
 2456518584.0,
 2456518590.0,
 2456518596.0,
 2456518602.0,
 2456518608.0,
 2456518614.0,
 2456518620.0,
 2456518626.0,
 2456518632.0,
 2456518638.0,
 2456518644.0,
 2456518650.0,
 2456518656.0,
 2456518662.0,
 2456518668.0,
 2456518674.0,
 2456518680.0,
 2456518686.0,
 2456518692.0,
 2456518698.0,
 2456518704.0,
 2456518710.0,
 2456518716.0,
 2456518722.0,
 2456518728.0,
 2456518734.0,
 2456518740.0,
 2456518746.0,
 2456518752.0,
 2456518758.0,
 2456518764.0,
 2456518770.0,
 2456518776.0,
 2456518782.0,
 2456518788.0,
 2456518794.0,
 2456518800.0,
 2456518806.0,
 2456518812.0,
 2456518818.0,
 2456518824.0,
 2456518830.0,
 2456518836.0,
 2456518842.0,
 2456518848.0,
 2456518854.0,
 2456518860.0,
 2456518866.0,
 2456518872.0,
 2456518878.0,
 2456518884.0,
 2456518890.0,
 2456518896.0,
 2456518902.0,
 2456518908.0,
 2456518914.0,
 2456518920.0,
 2456518926.0,
 2456518932.0,
 2456518938.0,
 2456518944.0,
 2456518950.0,
 2456518956.0,
 2456518962.0,
 2456518968.0,
 2456518974.0,
 2456518980.0,
 2456518986.0,
 2456518992.0,
 2456518998.0,
 2456519004.0,
 2456519010.0,
 2456519016.0,
 2456519022.0,
 2456519028.0,
 2456519034.0,
 2456519040.0,
 2456519046.0,
 2456519052.0,
 2456519058.0,
 2456519064.0,
 2456519070.0,
 2456519076.0,
 2456519082.0,
 2456519088.0,
 2456519094.0,
 2456519100.0,
 2456519106.0,
 2456519112.0,
 2456519118.0,
 2456519124.0,
 2456519130.0,
 2456519136.0,
 2456519142.0,
 2456519148.0,
 2456519154.0,
 2456519160.0,
 2456519166.0,
 2456519172.0,
 2456519178.0,
 2456519184.0,
 2456519190.0,
 2456519196.0,
 2456519202.0,
 2456519208.0,
 2456519214.0,
 2456519220.0,
 2456519226.0,
 2456519232.0,
 2456519238.0,
 2456519244.0,
 2456519250.0,
 2456519256.0,
 2456519262.0,
 2456519268.0,
 2456519274.0,
 2456519280.0,
 2456519286.0,
 2456519292.0,
 2456519298.0,
 2456519304.0,
 2456519310.0,
 2456519316.0,
 2456519322.0,
 2456519328.0,
 2456519334.0,
 2456519340.0,
 2456519346.0,
 2456519352.0,
 2456519358.0,
 2456519364.0,
 2456519370.0,
 2456519376.0,
 2456519382.0,
 2456519388.0,
 2456519394.0,
 2456519400.0,
 2456519406.0,
 2456519412.0,
 2456519418.0,
 2456519424.0,
 2456519430.0,
 2456519436.0,
 2456519442.0,
 2456519448.0,
 2456519454.0,
 2456519460.0,
 2456519466.0,
 2456519472.0,
 2456519478.0,
 2456519484.0,
 2456519490.0,
 2456519496.0,
 2456519502.0,
 2456519508.0,
 2456519514.0,
 2456519520.0,
 2456519526.0,
 2456519532.0,
 2456519538.0,
 2456519544.0,
 2456519550.0,
 2456519556.0,
 2456519562.0,
 2456519568.0,
 2456519574.0,
 2456519580.0,
 2456519586.0,
 2456519592.0,
 2456519598.0,
 2456519604.0,
 2456519610.0,
 2456519616.0,
 2456519622.0,
 2456519628.0,
 2456519634.0,
 2456519640.0,
 2456519646.0,
 2456519652.0,
 2456519658.0,
 2456519664.0,
 2456519670.0,
 2456519676.0,
 2456519682.0,
 2456519688.0,
 2456519694.0,
 2456519700.0,
 2456519706.0,
 2456519712.0,
 2456519718.0,
 2456519724.0,
 2456519730.0,
 2456519736.0,
 2456519742.0,
 2456519748.0,
 2456519754.0,
 2456519760.0,
 2456519766.0,
 2456519772.0,
 2456519778.0,
 2456519784.0,
 2456519790.0,
 2456519796.0,
 2456519802.0,
 2456519808.0,
 2456519814.0,
 2456519820.0,
 2456519826.0,
 2456519832.0,
 2456519838.0,
 2456519844.0,
 2456519850.0,
 2456519856.0,
 2456519862.0,
 2456519868.0,
 2456519874.0,
 2456519880.0,
 2456519886.0,
 2456519892.0,
 2456519898.0,
 2456519904.0,
 2456519910.0,
 2456519916.0,
 2456519922.0,
 2456519928.0,
 2456519934.0,
 2456519940.0,
 2456519946.0,
 2456519952.0,
 2456519958.0,
 2456519964.0,
 2456519970.0,
 2456519976.0,
 2456519982.0,
 2456519988.0,
 2456519994.0,
 ...]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">orbfil_dict</span><span class="p">[</span><span class="s1">&#39;data_record&#39;</span><span class="p">][</span><span class="s1">&#39;Satellite Inertial X coordinate&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="n">orbfil_dict</span><span class="p">[</span><span class="s1">&#39;data_record&#39;</span><span class="p">][</span><span class="s1">&#39;Satellite Inertial Y coordinate&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span><span class="n">orbfil_dict</span><span class="p">[</span><span class="s1">&#39;data_record&#39;</span><span class="p">][</span><span class="s1">&#39;Satellite Inertial Z coordinate&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span><span class="n">orbfil_dict</span><span class="p">[</span><span class="s1">&#39;data_record&#39;</span><span class="p">][</span><span class="s1">&#39;Date_UTC&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
x 485556.1778580549
y 5399551.505079578
z 4195936.201646193
Date 2018-11-09 21:00:00
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#             # in this loop, the counter is the satellite # in order</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]] = {}</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite Inertial X coordinate&#39;] = a[(index +1) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite Inertial Y coordinate&#39;] = a[(index +2) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite Inertial Z coordinate&#39;] = a[(index +3) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite Inertial X velocity&#39;]   = a[(index +4) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite Inertial Y velocity&#39;]   = a[(index +5) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite Inertial Z velocity&#39;]   = a[(index +6) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite Geodetic Latitude&#39;]     = a[(index +7) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite East Longitude&#39;]        = a[(index +8) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite Height&#39;]                = a[(index +9) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite ECF X coordinate&#39;]      = a[(index +10) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite ECF Y coordinate&#39;]      = a[(index +11) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite ECF Z coordinate&#39;]      = a[(index +12) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite ECF X velocity&#39;]        = a[(index +13) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite ECF Y velocity&#39;]        = a[(index +14) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Satellite ECF Z velocity&#39;]        = a[(index +15) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Polar Motion X&#39;]                  = a[(index +16) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Polar Motion Y&#39;]                  = a[(index +17) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Beta prime angle&#39;]                = a[(index +18) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Yaw angle&#39;]                       = a[(index +19) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Orbit Angle&#39;]                     = a[(index +20) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Q(1)&#39;]                            = a[(index +21) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Q(2)&#39;]                            = a[(index +22) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Q(3)&#39;]                            = a[(index +23) - 2]</span>
<span class="c1">#             data_dict_sat_packets[data_dict_times[counter]][&#39;Q(4)&#39;]                            = a[(index +24) - 2]</span>


<span class="c1"># data_record = pd.DataFrame({ &#39;MJDSEC ET&#39;                                                   :  [],</span>
<span class="c1">#                              #&#39;Data Buffer Start Date &amp; Time in form YYMMDDHHMMSS .0D0 UTC&#39;:  [],</span>
<span class="c1">#                              #&#39;Fractional seconds of Start Time UTC &#39;                      :  [],</span>
<span class="c1">#                              #&#39;Data Buffer Start Date &amp; Time in MJDSecs ET&#39;                :  [],</span>
<span class="c1">#                              #&#39;NTB&#39;                             :  [], # Number of trajectory times in this Data Buffer</span>
<span class="c1">#                              &#39;Satellite Inertial X coordinate&#39; :  [],</span>
<span class="c1">#                              &#39;Satellite Inertial Y coordinate&#39; :  [],</span>
<span class="c1">#                              &#39;Satellite Inertial Z coordinate&#39; :  [],</span>
<span class="c1">#                              &#39;Satellite Inertial X velocity&#39;   :  [],</span>
<span class="c1">#                              &#39;Satellite Inertial Y velocity&#39;   :  [],</span>
<span class="c1">#                              &#39;Satellite Inertial Z velocity&#39;   :  [],</span>
<span class="c1">#                              &#39;Satellite Geodetic Latitude&#39;     :  [],</span>
<span class="c1">#                              &#39;Satellite East Longitude&#39;        :  [],</span>
<span class="c1">#                              &#39;Satellite Height&#39;                :  [],</span>
<span class="c1">#                              &#39;Satellite ECF X coordinate&#39;      :  [],</span>
<span class="c1">#                              &#39;Satellite ECF Y coordinate&#39;      :  [],</span>
<span class="c1">#                              &#39;Satellite ECF Z coordinate&#39;      :  [],</span>
<span class="c1">#                              &#39;Satellite ECF X velocity&#39;        :  [],</span>
<span class="c1">#                              &#39;Satellite ECF Y velocity&#39;        :  [],</span>
<span class="c1">#                              &#39;Satellite ECF Z velocity&#39;        :  [],</span>
<span class="c1">#                              &#39;Polar Motion X&#39;                  :  [],</span>
<span class="c1">#                              &#39;Polar Motion Y&#39;                  :  [],</span>
<span class="c1">#                              &#39;Beta prime angle&#39;                :  [],</span>
<span class="c1">#                              &#39;Yaw angle&#39;                       :  [],</span>
<span class="c1">#                              &#39;Orbit Angle&#39;                     :  [],</span>
<span class="c1">#                              &#39;Q(1)&#39;                            :  [],    #  Quaternions describing</span>
<span class="c1">#                              &#39;Q(2)&#39;                            :  [],    #  the total rotation from</span>
<span class="c1">#                              &#39;Q(3)&#39;                            :  [],   # ICRS(J200) to ITRF for</span>
<span class="c1">#                              &#39;Q(4)&#39;                            :  [],    #  this time</span>
<span class="c1">#                             })</span>


<span class="c1"># 1     Satellite Inertial X coordinate   (meters)</span>
<span class="c1"># 2     Satellite Inertial X coordinate   (meters)</span>
<span class="c1"># 3     Satellite Inertial Z coordinate   (meters)</span>
<span class="c1"># 4     Satellite Inertial X velocity     (meters/second)</span>
<span class="c1"># 5     Satellite Inertial Y velocity     (meters/second)</span>
<span class="c1"># 6     Satellite Inertial Z velocity     (meters/second)</span>
<span class="c1"># 7     Satellite Geodetic Latitude       (degrees)</span>
<span class="c1"># 8     Satellite East Longitude          (degrees)</span>
<span class="c1"># 9     Satellite Height                  (meters)</span>
<span class="c1"># 10    Satellite ECF X coordinate        (meters)</span>
<span class="c1"># 11    Satellite ECF Y coordinate        (meters)</span>
<span class="c1"># 12    Satellite ECF Z coordinate        (meters)</span>
<span class="c1"># 13    Satellite ECF X velocity          (meters/second)</span>
<span class="c1"># 14    Satellite ECF Y velocity          (meters/second)</span>
<span class="c1"># 15    Satellite ECF Z velocity          (meters/second)</span>
<span class="c1"># 16    Polar Motion X                    (milliarcsec)</span>
<span class="c1"># 17    Polar Motion Y                    (milliarcsec)</span>
<span class="c1"># 18    Beta prime angle                  (degrees)</span>
<span class="c1"># 19    Yaw angle                         (degrees)</span>
<span class="c1"># 20    Orbit Angle                       (degrees)</span>
<span class="c1"># 21    Q(1) -|  Quaternions describing</span>
<span class="c1"># 22    Q(2)  |  the total rotation from</span>
<span class="c1"># 23    Q(3)  |  ICRS(J200) to ITRF for</span>
<span class="c1"># 24    Q(4) _|  this time</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># get_last_packet</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># header_labels = [</span>
<span class="c1">#     &#39;-9 ,000 ,000 ,000.0D0&#39;,</span>
<span class="c1">#     &#39;Number of alphanumeric data buffers to follow .(NA)&#39;,</span>
<span class="c1">#     &#39;Number of card images in the GEODYN II input control deck (NC).&#39;,</span>
<span class="c1">#     &#39;Arc Number.&#39;,</span>
<span class="c1">#     &#39;Global Iteration Number&#39;,</span>
<span class="c1">#     &#39;Inner Iteration Number&#39;,</span>
<span class="c1">#     &#39;Number of satellites on this file (NSATS =1 or number of sats. in Set if Master and Slaves to be concurrently output .) This quantity has an upper limit of 50.&#39;,</span>
<span class="c1">#     &#39;Actual number of words per satellite per time point (NWDSAT &lt;= 39)&#39;,</span>
<span class="c1">#     &#39;Number of words of data per time point (NWDATA=NSATS*NWDSAT )&#39;,&#39;</span>
<span class="c1">#     &#39;Number of time points per Data Buffer (NTIMBF ).&#39;,</span>
<span class="c1">#     &#39;Trajectory Start Date &amp; Time in form YYMMDDHHMMSS .0D0 UTC</span>
<span class="c1">#     &#39;Fractional seconds of Start Time. UTC&#39;,</span>
<span class="c1">#     &#39;Trajectory Stop Date &amp; Time in form YYMMDDHHMMSS .0D0 UTC &#39;,</span>
<span class="c1">#     &#39;Fractional seconds of Stop Time. UTC&#39;,&#39;,</span>
<span class="c1">#     &#39;Trajectory Start Date &amp; Time in Modified Julian Day Seconds (MJDS=(JD -2430000.5 D0 )*86400+ ISEC) ET&#39;,</span>
<span class="c1">#     &#39;Fractional seconds of Start Time&#39;,</span>
<span class="c1">#     &#39;Trajectory Stop Date &amp; Time in Modified Julian Day Seconds (MJDS=(JD -2430000.5 D0 )*86400+ ISEC). ET&#39;,</span>
<span class="c1">#     &#39;Fractional seconds of Stop Time. ET&#39;,</span>
<span class="c1">#     &#39;Nominal interval between trajectory times in seconds. ET &#39;,</span>
<span class="c1">#     &#39;Nominal number of trajectory times.&#39;,</span>
<span class="c1">#     &#39;zero&#39;,</span>
<span class="c1">#     &#39;Output S/C ephemeris reference system index (0 = TOD, 1 = TOR, 2 = Mean of J2000)&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;spare&#39;,</span>
<span class="c1">#     &#39;Speed of Light.&#39;,</span>
<span class="c1">#     &#39;GM for Earth.&#39;,</span>
<span class="c1">#     &#39;Semi -major axis of Earth reference ellipsoid.&#39;,</span>
<span class="c1">#     &#39;Equatorial Flattening of Earth reference ellipsoid.&#39;,</span>
<span class="c1">#     &#39;Gravitational Potential Checksum.&#39;,</span>
<span class="c1">#     &#39;Maximum Degree of Gravitational Expansion.&#39;,</span>
<span class="c1">#     &#39;Maximum Order of Gravitational Expansion.&#39;,    ### SKIP from 108 -200</span>
<span class="c1"># ]</span>

</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># print(&#39;Trajectory Start Date &amp; Time in Modified Julian Day&#39;,a[14])</span>

<span class="c1"># print(&#39;Nominal interval between trajectory times in seconds. ET&#39;,a[18])</span>
<span class="c1"># print(&#39;Nominal number of trajectory times.&#39;,a[19])</span>
<span class="c1"># print(&#39;zero&#39;, a[20])</span>
<span class="c1"># print(&#39;Output S/C ephemeris reference system index (0 = TOD, 1 = TOR, 2 = Mean of J2000)&#39;, a[21])</span>
<span class="c1"># print(&#39;spare&#39;, a[22])</span>


<span class="c1"># print(&#39;speed of light&#39;, a[100])</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># f = FortranFile(__rvg_filename, &#39;r&#39;)</span>

<span class="c1"># end_data_val = 9000000000 #-999.0</span>
<span class="c1"># # end_datarecord = False</span>
<span class="c1"># # counter = 0</span>



<span class="c1"># ####   Loop through the binary file and save out each full record.</span>
<span class="c1"># #      when we encounter the -999.0 delimeter at the start of the sentnial,</span>
<span class="c1"># #      we have reached the end of the header record.</span>
<span class="c1"># #</span>
<span class="c1"># #      The data is saved into a DataFrame for &quot;simplicity&quot;</span>


<span class="c1"># # while end_datarecord == False:</span>

<span class="c1"># a = f.read_record(float)  # read the record with the required datatype</span>




</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span><span class="c1"># if end_data_val in a:</span>
<span class="c1">#     ####  If the the first index has -999.0 we are at the sentinel record</span>
<span class="c1">#     #     which denotes the end of the data section.</span>
<span class="c1">#     print(self.tabtab, &#39;----- End of file&#39;)</span>

<span class="c1">#     rvg_data[&#39;sentinel&#39;] = dict(zip(sentinel_titles, a))</span>
<span class="c1">#     end_datarecord = True</span>
<span class="c1">#     counter += 1</span>
<span class="c1">#     f.close()  # be sure to close the file</span>
<span class="c1">#     break</span>
<span class="c1"># else:</span>
<span class="c1">#     if counter == 0:</span>
<span class="c1">#         #### If the counter is 0 we are on the header record.</span>
<span class="c1">#         #    this is simply because it is the first record. bottabing bottaboom</span>
<span class="c1">#         rvg_data[&#39;header&#39;] = dict(zip(header_titles, a))</span>
<span class="c1">#     else:</span>
<span class="c1">#         #### Everything in the file that isn&#39;t header or senitinel is data</span>
<span class="c1">#         rvg_data[&#39;data&#39;].loc[counter-1] = dict(zip(data_titles,a) )</span>
<span class="c1">#     counter += 1</span>

</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../todo.html" class="btn btn-neutral float-right" title="To do list:" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="preprocessing_rvgs_to_ascii.html" class="btn btn-neutral float-left" title="Reading and Processing .RVG binary files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Zach Waldron.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>